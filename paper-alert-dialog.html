<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../paper-dialog/paper-dialog.html">
<link rel="import" href="../paper-button/paper-button.html">
<link rel="import" href="paper-alert-dialog-icon-header.html">

<dom-module id="paper-alert-dialog">

	<template>
		<paper-dialog id='dialog' opened={{opened}} modal>
		    <h2 hidden=[[!title]]>[[title]]</h2>
		    <p><content></content></p>
			<div class='buttons'>
				<paper-button dismiss hidden=[[!dismissButton]] on-tap='close'>[[dismissButton]]</paper-button>
				<paper-button confirm autofocus on-tap='_tapConfirm'>[[confirmButton]]</paper-button>
			</div>
		</paper-dialog>
	</template>

</dom-module>

<script>

(function() {

	Polymer({
		is: 'paper-alert-dialog',
		properties: {
			title: {
				type: String,
				value: null
			},
			confirmButton: {
				type: String,
				value: 'Confirm'
			},
			dismissButton: String,
			opened: {
				true: Boolean,
				notify: true
			}
		},

		// Public methods
		open: function() {
			// Attach dialog to the body to ensure it's on top of all existing overlays
			Polymer.dom(document.body).appendChild(this);

			this.$.dialog.open();
		},
		close: function() {
			this.$.dialog.close();

			// Remove the dialog from the DOM
			Polymer.dom(this.parentNode).removeChild(this);
		},

		// Private methods
		_tapConfirm: function() {
			this.close();

			this.fire('confirm');
		}
	});

})();

</script>
